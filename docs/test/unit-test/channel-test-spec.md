# チャンネル機能テスト仕様書

## 概要
このテスト仕様書は、IdeaTubeアプリケーションのチャンネル機能に関する単体テストの内容を定義します。

## テスト対象機能
- チャンネル一覧表示（CHAN-01）
- チャンネル詳細表示（CHAN-02）
- チャンネル検索（CHAN-03）
- チャンネル統計表示（CHAN-04）
- チャンネルソート（投稿数）（CHAN-05）
- チャンネルソート（最新）（CHAN-06）

## テスト仕様

### CHAN-01: チャンネル一覧表示

| テストID | テスト内容 | 入力値 | 期待される結果 | 前提条件 |
|---------|-----------|--------|--------------|---------|
| CHAN-01-01 | チャンネル一覧の表示 | ホームページアクセス | 登録済みチャンネルのリスト表示 | チャンネルが1件以上登録済み |
| CHAN-01-02 | チャンネル未登録時の表示 | ホームページアクセス | 「チャンネルがありません」メッセージ表示 | チャンネル未登録 |
| CHAN-01-03 | ページネーション動作確認 | 「次へ」ボタンクリック | 次のページのチャンネル表示 | チャンネルが多数登録済み |
| CHAN-01-04 | 一覧の各チャンネル情報表示 | ホームページアクセス | 各チャンネルの名前、アイコン、投稿数、最新投稿日表示 | チャンネルが1件以上登録済み |
| CHAN-01-05 | チャンネルリストのレスポンシブ表示 | 画面サイズ変更 | デバイスサイズに応じたレイアウト調整 | チャンネルが1件以上登録済み |

### CHAN-02: チャンネル詳細表示

| テストID | テスト内容 | 入力値 | 期待される結果 | 前提条件 |
|---------|-----------|--------|--------------|---------|
| CHAN-02-01 | 有効なチャンネルIDでの詳細表示 | チャンネルカードクリック | チャンネル詳細情報とそのチャンネルの投稿表示 | 登録済みチャンネル |
| CHAN-02-02 | 存在しないチャンネルIDでの詳細表示 | 無効なチャンネルIDのURL | 「チャンネルが見つかりません」エラー表示 | - |
| CHAN-02-03 | チャンネル情報の表示内容確認 | チャンネルカードクリック | 名前、説明、登録者数、アイコン、統計情報表示 | 登録済みチャンネル |
| CHAN-02-04 | チャンネル情報のレスポンシブ表示 | 画面サイズ変更 | デバイスサイズに応じたレイアウト調整 | 登録済みチャンネル |
| CHAN-02-05 | YouTubeチャンネルへのリンク | YouTubeボタンクリック | 該当するYouTubeチャンネルページが新タブで開く | 登録済みチャンネル |

### CHAN-03: チャンネル検索

| テストID | テスト内容 | 入力値 | 期待される結果 | 前提条件 |
|---------|-----------|--------|--------------|---------|
| CHAN-03-01 | 有効なYouTubeチャンネルIDで検索 | ID: UCxxxxxxxx | チャンネル情報取得成功、データベースに追加 | 未登録のYouTubeチャンネルID |
| CHAN-03-02 | 既存のYouTubeチャンネルIDで検索 | ID: UCxxxxxxxx | 既存チャンネル情報表示 | 登録済みのYouTubeチャンネルID |
| CHAN-03-03 | 無効なYouTubeチャンネルIDで検索 | ID: invalid-id | エラーメッセージ表示 | - |
| CHAN-03-04 | 空のYouTubeチャンネルIDで検索 | ID: (空) | エラーメッセージ表示 | - |
| CHAN-03-05 | YouTube API制限時の検索 | ID: UCxxxxxxxx | API制限エラーメッセージ表示 | YouTube APIクォータ制限状態 |

### CHAN-04: チャンネル統計表示

| テストID | テスト内容 | 入力値 | 期待される結果 | 前提条件 |
|---------|-----------|--------|--------------|---------|
| CHAN-04-01 | 投稿のあるチャンネルの統計表示 | チャンネル詳細ページアクセス | 投稿数と最新投稿日時の正確な表示 | 投稿のあるチャンネル |
| CHAN-04-02 | 投稿のないチャンネルの統計表示 | チャンネル詳細ページアクセス | 投稿数0と最新投稿日時なしの表示 | 投稿のないチャンネル |
| CHAN-04-03 | 投稿追加後の統計更新 | 新規投稿作成 | 投稿数と最新投稿日時の自動更新 | 既存チャンネル |
| CHAN-04-04 | 投稿削除後の統計更新 | 投稿削除 | 投稿数と最新投稿日時の自動更新 | 投稿のあるチャンネル |

### CHAN-05: チャンネルソート（投稿数）

| テストID | テスト内容 | 入力値 | 期待される結果 | 前提条件 |
|---------|-----------|--------|--------------|---------|
| CHAN-05-01 | 投稿数順ソートの選択 | 「投稿数順」オプション選択 | 投稿数の多い順にチャンネル表示 | 複数のチャンネル登録済み |
| CHAN-05-02 | 投稿数が同じチャンネルのソート | 「投稿数順」オプション選択 | 投稿数が同じ場合、最新投稿日時降順で表示 | 投稿数が同じチャンネル複数存在 |
| CHAN-05-03 | 投稿のないチャンネルのソート位置 | 「投稿数順」オプション選択 | 投稿のないチャンネルは最後に表示 | 投稿のないチャンネル存在 |
| CHAN-05-04 | ソート後のページネーション | 「投稿数順」選択後ページネーション | ソート順を維持したままページ切り替え | 多数のチャンネル登録済み |

### CHAN-06: チャンネルソート（最新）

| テストID | テスト内容 | 入力値 | 期待される結果 | 前提条件 |
|---------|-----------|--------|--------------|---------|
| CHAN-06-01 | 最新投稿順ソートの選択 | 「最新順」オプション選択 | 最新投稿日時の新しい順にチャンネル表示 | 複数のチャンネル登録済み |
| CHAN-06-02 | 最新投稿日時が同じチャンネルのソート | 「最新順」オプション選択 | 日時が同じ場合、投稿数の多い順で表示 | 最新投稿日時が同じチャンネル複数存在 |
| CHAN-06-03 | 投稿のないチャンネルのソート位置 | 「最新順」オプション選択 | 投稿のないチャンネルは最後に表示 | 投稿のないチャンネル存在 |
| CHAN-06-04 | ソート後のページネーション | 「最新順」選択後ページネーション | ソート順を維持したままページ切り替え | 多数のチャンネル登録済み |
| CHAN-06-05 | 新規投稿後のソート順更新 | 新規投稿作成後「最新順」表示 | 投稿したチャンネルが上位に表示される | 複数のチャンネル登録済み |

## 特記事項
- チャンネル一覧は初期表示時に投稿数順でソートされる
- YouTubeチャンネル検索ではYouTube Data APIを使用するため、API制限に注意が必要
- チャンネル統計情報（投稿数、最新投稿日時）はデータベーストリガーにより自動更新される
- チャンネル情報（登録者数など）は定期的に更新される仕組みが必要（現在は初回取得時のみ） 